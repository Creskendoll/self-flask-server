(this["webpackJsonplove-count"]=this["webpackJsonplove-count"]||[]).push([[0],{131:function(e,t,n){},311:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),c=n.n(r),o=n(13),i=n.n(o),s=(n(131),n(132),n(20)),l=n(21),u=n(116),d=n(340),m=n(355),j=n(356),b=n(24),f=n.n(b),p=n(36),x=n(7),O=n(358),h=n(344),g=n(345),v=n(346),y=n(347),w=n(112),k=n.n(w),S=n(54),I=n.n(S),C=n(357),N=n(37),E=n(4),z=n(27),T=n(89);T.a.initializeApp({apiKey:"AIzaSyC5QyntgrLN1ALcXxfQE57M3XIOkVdkTvc",authDomain:"liebe-counter.firebaseapp.com",projectId:"liebe-counter",storageBucket:"liebe-counter.appspot.com",messagingSenderId:"874173058428",appId:"1:874173058428:web:b71371efc06770ab2968f9",measurementId:"G-FDRD0P1727"});var D=T.a,L=(n(313),function(e){return e?e.trim().replace(/\s+/g," ").split(" ").map((function(e){var t=e.trim();return t[0].toUpperCase()+t.slice(1)})).join(" "):""});var P=function(e){return e.toLowerCase().trim().replace(/\s+/g," ")},F=D.firestore(),A=F.collection("@recipients"),B=F.collection("@loves"),W=function(){return D.firestore.FieldValue.serverTimestamp()};function X(e,t){var n=e.data().createdOn,a=t.data().createdOn;return(n?n.toDate().getTime():(new Date).getTime())-(a?a.toDate().getTime():(new Date).getTime())}function J(e,t){return V.apply(this,arguments)}function V(){return(V=Object(p.a)(f.a.mark((function e(t,n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P(t),r=P(n),e.next=4,A.doc(a).get();case 4:if(e.sent.exists){e.next=8;break}return e.next=8,A.doc(a).set({name:a,createdBy:a,createdOn:W()});case 8:return e.next=10,A.doc(r).get();case 10:if(e.sent.exists){e.next=14;break}return e.next=14,A.doc(r).set({name:r,createdBy:a,createdOn:W()});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return H.apply(this,arguments)}function H(){return(H=Object(p.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.add({to:P(n),from:P(t),createdOn:W()});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=Object(d.a)((function(e){return{center:{textAlign:"center"},inputContainer:{alignItems:"center",display:"inline-flex",marginTop:e.spacing(10)},button:{},"@keyframes pulse":N.pulse,pulse:{animation:"$pulse 1000ms"}}})),M=Object(x.a)((function(e){return{root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:e.palette.secondary.main},"&:hover fieldset":{borderColor:e.palette.primary.main}}}}}))(C.a);function Q(e){var t=e.onDone,n=e.initValue,r=K(),o=c.a.useState(n?n.from:""),i=Object(l.a)(o,2),u=i[0],d=i[1],m=c.a.useState(n?n.to:""),j=Object(l.a)(m,2),b=j[0],x=j[1],w=c.a.useState(!1),S=Object(l.a)(w,2),C=S[0],N=S[1],z=function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===u||""===b){e.next=6;break}return N(!0),e.next=4,J(u,b);case 4:t(u,b),N(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){13===e.keyCode&&z()};return Object(a.jsxs)(O.a,{className:r.center,children:[Object(a.jsxs)(h.a,{container:!0,spacing:1,children:[Object(a.jsx)(h.a,{item:!0,xs:12,sm:2,children:Object(a.jsx)(g.a,{color:"textPrimary",variant:"h3",children:"\ud83d\udc99"})}),Object(a.jsx)(h.a,{item:!0,xs:12,sm:8,children:Object(a.jsx)(g.a,{color:"textPrimary",variant:"h3",children:"Love Counter"})}),Object(a.jsx)(h.a,{item:!0,xs:12,sm:2,children:Object(a.jsx)(g.a,{color:"textPrimary",variant:"h3",children:"\ud83d\udc99"})})]}),Object(a.jsx)(g.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:"Enter your names below to start sending love."}),Object(a.jsxs)(h.a,{container:!0,spacing:3,className:r.inputContainer,children:[Object(a.jsx)(h.a,{item:!0,xs:12,sm:5,md:4,children:Object(a.jsx)(M,{fullWidth:!0,label:"Your Name",variant:"outlined",value:u,onKeyDown:T,onChange:function(e){return d(e.target.value)}})}),Object(a.jsx)(h.a,{item:!0,xs:12,sm:2,md:1,children:Object(a.jsx)(k.a,{color:"primary",fontSize:"large"})}),Object(a.jsx)(h.a,{item:!0,xs:12,sm:5,md:3,children:Object(a.jsx)(M,{fullWidth:!0,label:"Their Name",variant:"outlined",value:b,onKeyDown:T,onChange:function(e){return x(e.target.value)}})}),Object(a.jsx)(h.a,{item:!0,xs:12,sm:12,md:4,children:C?Object(a.jsx)(v.a,{color:"primary"}):Object(a.jsx)(y.a,{fullWidth:!0,size:"large",onClick:z,className:Object(E.a)(r.button,Object(s.a)({},r.pulse,""!==u&&""!==b)),disabled:""===u||""===b,color:"primary",variant:"contained",startIcon:Object(a.jsx)(I.a,{}),endIcon:Object(a.jsx)(I.a,{}),children:"Start"})})]})]})}var R=n(348),G=n(113),U=n.n(G),Y=Object(d.a)((function(e){return{button:{},heartIcon:{},"@keyframes tada":N.tada,pulse:{animation:"$tada 1000ms"},"@keyframes bounceIn":N.bounceIn,pulseExit:{animation:"$bounceIn 1000ms"},"@media (min-width: 0px)":{heartIcon:{fontSize:"10rem"}},"@media (min-width: 960px)":{heartIcon:{fontSize:"20rem"}}}}));function q(e){var t,n=e.onClick,r=Y(),o=c.a.useState(!1),i=Object(l.a)(o,2),u=i[0],d=i[1];return Object(a.jsx)(R.a,{onClick:function(){d(!0),setTimeout((function(){return d(!1)}),2e3),n()},className:Object(E.a)(r.button,(t={},Object(s.a)(t,r.pulse,u),Object(s.a)(t,r.pulseExit,!u),t)),color:"primary",children:u?Object(a.jsx)(I.a,{className:r.heartIcon}):Object(a.jsx)(U.a,{className:r.heartIcon})})}var Z=n(349),_=n(343),ee=n(350),te=n(351),ne=n(352),ae=n(353),re=n(354),ce=n(115),oe=n.n(ce),ie=n(114),se=Object(d.a)((function(e){return{center:{textAlign:"center"},headCell:{fontSize:"1.2rem",fontWeight:"bold"},grid:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:e.spacing(2),marginBottom:e.spacing(2)},"@keyframes zoomIn":N.zoomIn,zoomIn:{animation:"$zoomIn 500ms"},bgPrimary:{backgroundColor:e.palette.primary.main},bgSecondary:{backgroundColor:e.palette.secondary.main}}}));function le(e){var t=e.onExit,n=e.recipients,r=se(),o=c.a.useState(),i=Object(l.a)(o,2),u=i[0],d=i[1];c.a.useEffect((function(){d(void 0),n.from&&n.to&&""!==n.from&&""!==n.to&&""!==n.from&&""!==n.to&&function(e,t){var n=P(e);B.where("to","==",n).onSnapshot((function(e){B.where("from","==",n).onSnapshot((function(n){var a=[].concat(Object(z.a)(e.docs),Object(z.a)(n.docs)).sort(X).map((function(e){var t=e.data().from,n=e.data().to,a=e.data().createdOn;return{from:t,to:n,createdOn:a?a.toDate():new Date}}));t(a.reverse())}))}))}(n.from,(function(e){d(e)}))}),[n]);var m=function(e){return e.reduce((function(e,t){var n=P(t.from);return e[n]||(e[n]=Array(24).fill(0)),e[n][t.createdOn.getHours()]++,e}),{})}(u||[]),j={labels:Object(z.a)(Array(24).keys()).map((function(e){return"".concat(e,":00")})),datasets:[{label:n.from,borderColor:"#F00",backgroundColor:"#F00",fill:!1,data:m[P(n.from)]},{label:n.to,borderColor:"#00F",backgroundColor:"#00F",fill:!1,data:m[P(n.to)]}]};return Object(a.jsxs)(O.a,{className:r.center,children:[Object(a.jsx)(R.a,{style:{position:"absolute",zIndex:9999,left:0,top:0},onClick:t,children:Object(a.jsx)(oe.a,{style:{transform:"scaleX(-1)",fontSize:"2.5rem"},color:"primary"})}),Object(a.jsxs)(h.a,{container:!0,spacing:3,className:r.grid,children:[Object(a.jsx)(h.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(g.a,{color:"textPrimary",variant:"h4",children:L(n.from)})}),Object(a.jsx)(h.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(q,{onClick:Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(n.from,n.to);case 2:case"end":return e.stop()}}),e)})))})}),Object(a.jsx)(h.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(g.a,{color:"textPrimary",variant:"h4",children:L(n.to)})}),u&&0!==u.length?Object(a.jsx)(h.a,{item:!0,xs:12,children:Object(a.jsx)(Z.a,{component:_.a,className:r.zoomIn,style:{maxHeight:"40vh",overflow:"auto"},children:Object(a.jsxs)(ee.a,{stickyHeader:!0,children:[Object(a.jsx)(te.a,{children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(ae.a,{className:r.headCell,children:"From"}),Object(a.jsx)(ae.a,{className:r.headCell,align:"right",children:"To"}),Object(a.jsx)(ae.a,{className:r.headCell,align:"right",children:"Time"})]})}),Object(a.jsx)(re.a,{children:u.map((function(e,t){return Object(a.jsxs)(ne.a,{className:Object(E.a)(r.bgPrimary,Object(s.a)({},r.bgSecondary,L(e.from)===L(n.from))),children:[Object(a.jsx)(ae.a,{children:L(e.from)}),Object(a.jsx)(ae.a,{align:"right",children:L(e.to)}),Object(a.jsx)(ae.a,{align:"right",children:e.createdOn.toLocaleString("tr-TR")})]},t)}))})]})})}):Object(a.jsx)(g.a,{color:"textPrimary",variant:"h4",children:"Send your love by clicking the heart!"}),Object(a.jsx)(h.a,{item:!0,xs:12,children:Object(a.jsx)(ie.Line,{data:j})})]})]})}var ue=n(74);var de=Object(u.a)({palette:{primary:{main:"#3282b8",light:"#bbe1fa"},secondary:{main:"#0f4c75",light:"#b7bdc3"},text:{primary:"#fcf8ec",secondary:"#d0e8f2"},background:{default:"#1b262c",paper:"#0f4c75"}}}),me=Object(d.a)((function(e){return{card:{willChange:"transform, opacity",position:"absolute",margin:0,left:0,right:0},front:{top:"10%"},back:{},top:{zIndex:99}}}));var je=function(){var e=me(),t=function(e,t){var n=function(){if("undefined"===typeof window)return t;try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),a),t}},a=Object(r.useState)(n),c=Object(l.a)(a,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){i(n())}),[]),Object(r.useEffect)((function(){var e=function(){i(n())};return window.addEventListener("storage",e),window.addEventListener("local-storage",e),function(){window.removeEventListener("storage",e),window.removeEventListener("local-storage",e)}}),[]),[o,function(t){"undefined"===typeof window&&console.warn("Tried setting localStorage key \u201c".concat(e,"\u201d even though environment is not a client"));try{var n=t instanceof Function?t(o):t;window.localStorage.setItem(e,JSON.stringify(n)),i(n),window.dispatchEvent(new Event("local-storage"))}catch(a){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),a)}}]}("@recipients",null),n=Object(l.a)(t,2),o=n[0],i=n[1],u=c.a.useState(!o),d=Object(l.a)(u,2),b=d[0],f=d[1],p=c.a.useState(o||{from:"",to:""}),x=Object(l.a)(p,2),O=x[0],h=x[1],g=Object(ue.b)({opacity:b?0:1,transform:"perspective(1000px) rotateX(".concat(b?0:180,"deg)"),config:{mass:6,tension:400,friction:80}}),v=g.transform,y=g.opacity;return Object(a.jsx)(m.a,{theme:de,children:Object(a.jsx)(j.a,{maxWidth:"lg",children:Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)(ue.a.div,{className:Object(E.a)(e.card,e.front,Object(s.a)({},e.top,b)),style:{opacity:y.interpolate((function(e){return 1-e})),transform:v},children:Object(a.jsx)(Q,{initValue:O,onDone:function(e,t){i({from:e,to:t}),h({from:e,to:t}),f(!1)}})}),Object(a.jsx)(ue.a.div,{className:Object(E.a)(e.card,e.back,Object(s.a)({},e.top,!b)),style:{opacity:y,transform:v.interpolate((function(e){return"".concat(e," rotateX(180deg)")}))},children:Object(a.jsx)(le,{recipients:O,onExit:function(){i(null),f(!0)}})})]})})})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(je,{})}),document.getElementById("root"))}},[[311,1,2]]]);
//# sourceMappingURL=main.662642fe.chunk.js.map